/* ====== Theme ====== */
:root {
  --primary: #030f27;
  --accent: #fdbe33;
  --muted: #f5f6fa;
  --border: rgba(0,0,0,.08);
}

/* ====== Layout ====== */
.ai-quote {
  padding: 45px 0;
  font-family: 'Poppins', sans-serif;
}

.tip-card {
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
  background: #fff;
}

/* ====== Chat card ====== */
.chat-card {
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
  background: #fff;
  display: flex;
  flex-direction: column;
  min-height: 560px;
}
.chat-header {
  background: var(--primary);
  color: var(--accent);
  padding: 12px 16px;
  display: flex;
  align-items: center;
}
.chat-body {
  padding: 16px;
  background: #fff;
  height: 360px;
  overflow-y: auto;
}
.message { display: flex; align-items: flex-start; margin-bottom: 14px; }
.message .message-text {
  background: var(--muted);
  border-radius: 12px; padding: 12px 14px; font-size: 15px; line-height: 1.5;
  color: #333; max-width: 85%; word-break: break-word;
}
.user-message { justify-content: flex-end; }
.user-message .message-text { background: #eef2ff; }
.bot-message .bot-avatar { margin-right: 10px; min-width: 36px; fill: var(--accent); }
.attachment { display:block; max-width:260px; max-height:180px; border-radius:8px; margin-top:8px; border:1px solid var(--border); }

/* thinking dots */
.thinking .message-text .thinking-indicator { display:inline-flex; gap:6px; align-items:center; }
.thinking .message-text .dot { width:6px; height:6px; background:#999; border-radius:50%; animation: bounce 1s infinite ease-in-out; }
.thinking .message-text .dot:nth-child(2) { animation-delay: .15s; }
.thinking .message-text .dot:nth-child(3) { animation-delay: .3s; }
@keyframes bounce { 0%,80%,100%{transform:scale(.66);opacity:.6} 40%{transform:scale(1);opacity:1} }

.chat-form {
  display:flex; align-items:flex-end; gap:8px; padding:12px; background:#fafafa; border-top:1px solid rgba(0,0,0,.06);
}
.message-input {
  width:100%; max-height:120px; min-height:40px; overflow-y:auto; resize:none;
  border:1px solid rgba(0,0,0,.12); border-radius:8px; padding:10px 12px; outline:none;
}
#send-message.btn.btn-primary {
  background: var(--accent); border-color: var(--accent); color: var(--primary); border-radius:8px;
}
#send-message.btn.btn-primary:hover { background: var(--primary); border-color: var(--primary); color: var(--accent); }
#file-upload.btn { border-radius:8px; }

/* upload preview bar */
.file-upload-wrapper { display:none; align-items:center; gap:12px; padding:10px 12px; background:#fff; border-top:1px dashed rgba(0,0,0,.15); }
.file-upload-wrapper.file-uploaded { display:flex; }
.file-upload-wrapper .thumb-grid { display:flex; flex-wrap:wrap; gap:8px; }
.file-upload-wrapper img { max-height:72px; border-radius:6px; border:1px solid var(--border); }
.file-upload-wrapper .thumb { position:relative; }
.file-upload-wrapper .thumb-remove {
  position:absolute; top:-8px; right:-8px; width:22px; height:22px; border-radius:50%;
  border:none; background:#ff4d4f; color:#fff; line-height:22px; text-align:center; cursor:pointer;
}

/* ====== Right summary card ====== */
.summary-card.card { border-radius:12px; overflow:hidden; }
#items-table th, #items-table td { vertical-align: middle; }
.qty-group { display:inline-flex; align-items:center; }
.qty-group .btn-minus, .qty-group .btn-plus {
  width:28px; height:28px; line-height:26px; border:1px solid rgba(0,0,0,.12);
  background:#fff; border-radius:6px; font-weight:700; padding:0 0 2px; cursor:pointer;
}
.qty-group .qty-input {
  width:50px; text-align:center; margin:0 6px; border:1px solid rgba(0,0,0,.12); border-radius:6px; padding:3px 6px;
}

/* ====== Modal fixes: center + topmost ====== */
.modal { z-index: 2000; }
.modal-backdrop { z-index: 1990; }
body.modal-open { padding-right: 0 !important; }

/* ====== Responsive ====== */
@media (max-width: 767.98px) {
  .chat-body { height: 320px; }
  .message .message-text { max-width: 92%; }
  .modal-dialog { margin: .5rem; }
}